<div class="container">
  <div class="row">
    <div class="col-12">
      <h1 class="mt-3">Shopping Cart</h1>
      <p class="lead">You have <label class="text-danger">{{cartProducts.length}}</label> items in your cart</p>
      <span class="text-danger card-header float-right" (click)="clearCart()">Clear Shopping Cart</span>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <table class="table table-striped">
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Price</th>
            <th style="width: 25%;">Quantity</th>
            <th>Total</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cartProducts; let index = index">
            <td>
              <img [src]="item.item.image" alt="" style="width: 80px; height: 80px">
            </td>
            <td>
              {{item.item.title}}
            </td>
            <td>{{item.item.price | currency}}</td>
            <td>
              <div class="quantity">
                <div class="btn btn-dark" (click)="addAmount(index)">+</div>
                <input type="number" class="form-control" min="1" (change)="detectChanges()" [(ngModel)]="item.quantity">
                <div class="btn btn-dark" (click)="minusAmount(index)">-</div>
              </div>
            </td>
            <td>{{(item.item.price * item.quantity)}}</td>
            <td><div class="btn btn-danger" (click)="deleteProduct(index)">Delete</div></td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th>Total : {{total | currency}}</th>
            <th>
              <button class="btn btn-success" (click)="addCart()">Order Now</button>
            </th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
  <div class="row" *ngIf="success">
    <div class="col-12">
      <div class="alert alert-success" role="alert">
      <strong>Well done</strong> Your Order is now Successfully Send
      </div>
   </div>
  </div>
</div>
